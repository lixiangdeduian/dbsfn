-- 简化版示例数据脚本（避免字段长度问题）
-- 如果 seed.sql 执行失败，可以使用这个脚本

USE hospital_test;

-- 清空现有数据（可选，如果需要重新开始）
SET FOREIGN_KEY_CHECKS = 0;
-- TRUNCATE TABLE 语句...
SET FOREIGN_KEY_CHECKS = 1;

-- =========================
-- 1. 插入科室数据
-- =========================
INSERT INTO department (department_code, department_name, is_active) VALUES
('001', '内科', 1),
('002', '外科', 1),
('003', '儿科', 1),
('004', '妇产科', 1),
('005', '骨科', 1),
('006', '眼科', 1),
('007', '耳鼻喉科', 1),
('008', '口腔科', 1),
('009', '皮肤科', 1),
('010', '急诊科', 1);

-- =========================
-- 2. 插入员工数据
-- =========================
INSERT INTO staff (staff_no, staff_name, gender, phone, email, title, is_active) VALUES
('S20250001', '张医生', 'M', '13800138001', 'zhang@hospital.com', '主任医师', 1),
('S20250002', '李医生', 'F', '13800138002', 'li@hospital.com', '副主任医师', 1),
('S20250003', '王医生', 'M', '13800138003', 'wang@hospital.com', '主治医师', 1),
('S20250004', '赵医生', 'F', '13800138004', 'zhao@hospital.com', '主治医师', 1),
('S20250005', '刘医生', 'M', '13800138005', 'liu@hospital.com', '住院医师', 1),
('S20250006', '陈护士', 'F', '13800138006', 'chen@hospital.com', '护士长', 1),
('S20250007', '周护士', 'F', '13800138007', 'zhou@hospital.com', '护士', 1),
('S20250008', '吴药师', 'M', '13800138008', 'wu@hospital.com', '药师', 1),
('S20250009', '郑技师', 'F', '13800138009', 'zheng@hospital.com', '检验技师', 1),
('S20250010', '孙医生', 'M', '13800138010', 'sun@hospital.com', '主治医师', 1);

-- =========================
-- 3. 插入员工-科室关联
-- =========================
INSERT INTO staff_department (staff_id, department_id, is_primary) VALUES
(1, 1, 1), -- 张医生 - 内科
(2, 2, 1), -- 李医生 - 外科
(3, 3, 1), -- 王医生 - 儿科
(4, 4, 1), -- 赵医生 - 妇产科
(5, 5, 1), -- 刘医生 - 骨科
(10, 1, 1); -- 孙医生 - 内科

-- =========================
-- 4. 插入患者数据
-- =========================
INSERT INTO patient (patient_no, patient_name, gender, birth_date, phone, blood_type, is_active) VALUES
('P20250001', '张三', 'M', '1990-01-15', '13900139001', 'A', 1),
('P20250002', '李四', 'F', '1985-05-20', '13900139002', 'B', 1),
('P20250003', '王五', 'M', '1992-08-10', '13900139003', 'O', 1),
('P20250004', '赵六', 'F', '1988-12-25', '13900139004', 'AB', 1),
('P20250005', '刘七', 'M', '1995-03-30', '13900139005', 'A', 1),
('P20250006', '陈八', 'F', '1993-07-18', '13900139006', 'B', 1),
('P20250007', '周九', 'M', '1987-11-22', '13900139007', 'O', 1),
('P20250008', '吴十', 'F', '1991-04-05', '13900139008', 'A', 1),
('P20250009', '郑十一', 'M', '1989-09-14', '13900139009', 'AB', 1),
('P20250010', '孙十二', 'F', '1994-06-28', '13900139010', 'B', 1);

-- =========================
-- 5. 插入医生排班（未来7天）
-- =========================
INSERT INTO doctor_schedule (doctor_id, department_id, schedule_date, start_time, end_time, quota, registration_fee, is_active) VALUES
-- 今天
(1, 1, CURDATE(), '08:00:00', '12:00:00', 20, 10.00, 1),
(1, 1, CURDATE(), '14:00:00', '17:00:00', 15, 10.00, 1),
(2, 2, CURDATE(), '08:00:00', '12:00:00', 15, 15.00, 1),
(3, 3, CURDATE(), '08:00:00', '12:00:00', 20, 10.00, 1),
-- 明天
(1, 1, DATE_ADD(CURDATE(), INTERVAL 1 DAY), '08:00:00', '12:00:00', 20, 10.00, 1),
(2, 2, DATE_ADD(CURDATE(), INTERVAL 1 DAY), '08:00:00', '12:00:00', 15, 15.00, 1),
(3, 3, DATE_ADD(CURDATE(), INTERVAL 1 DAY), '14:00:00', '17:00:00', 20, 10.00, 1),
(4, 4, DATE_ADD(CURDATE(), INTERVAL 1 DAY), '08:00:00', '12:00:00', 15, 12.00, 1),
-- 后天
(1, 1, DATE_ADD(CURDATE(), INTERVAL 2 DAY), '08:00:00', '12:00:00', 20, 10.00, 1),
(5, 5, DATE_ADD(CURDATE(), INTERVAL 2 DAY), '08:00:00', '12:00:00', 10, 15.00, 1),
(10, 1, DATE_ADD(CURDATE(), INTERVAL 2 DAY), '14:00:00', '17:00:00', 20, 10.00, 1);

-- =========================
-- 6. 插入收费项目
-- =========================
INSERT INTO charge_catalog (item_code, item_name, category, unit, unit_price, is_active) VALUES
('REG001', '普通门诊挂号费', '挂号费', '次', 10.00, 1),
('REG002', '专家门诊挂号费', '挂号费', '次', 20.00, 1),
('EXAM001', '血常规', '检验费', '次', 25.00, 1),
('EXAM002', '尿常规', '检验费', '次', 15.00, 1),
('EXAM003', 'X光胸片', '检查费', '次', 80.00, 1),
('EXAM004', 'B超检查', '检查费', '次', 120.00, 1),
('EXAM005', 'CT检查', '检查费', '次', 300.00, 1),
('DRUG001', '阿莫西林胶囊', '西药费', '盒', 15.50, 1),
('DRUG002', '感冒灵颗粒', '中成药费', '盒', 12.00, 1),
('DRUG003', '布洛芬片', '西药费', '盒', 8.50, 1),
('DRUG004', '头孢克肟胶囊', '西药费', '盒', 28.00, 1),
('DRUG005', '复方甘草片', '中成药费', '瓶', 6.00, 1),
('TREAT001', '静脉注射', '治疗费', '次', 8.00, 1),
('TREAT002', '肌肉注射', '治疗费', '次', 5.00, 1),
('TREAT003', '换药', '治疗费', '次', 15.00, 1),
('TREAT004', '清创缝合', '治疗费', '次', 150.00, 1),
('BED001', '普通病床', '床位费', '天', 50.00, 1),
('BED002', '三人间病床', '床位费', '天', 80.00, 1),
('BED003', '双人间病床', '床位费', '天', 120.00, 1),
('BED004', '单人间病床', '床位费', '天', 200.00, 1);

-- =========================
-- 7. 查看数据统计
-- =========================
SELECT 'department' AS table_name, COUNT(*) AS record_count FROM department
UNION ALL SELECT 'staff', COUNT(*) FROM staff
UNION ALL SELECT 'patient', COUNT(*) FROM patient
UNION ALL SELECT 'doctor_schedule', COUNT(*) FROM doctor_schedule
UNION ALL SELECT 'charge_catalog', COUNT(*) FROM charge_catalog;

SELECT '示例数据已成功插入！' AS message;

